<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftHire Pro | Video-Recruiting & XML Partnership</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #1a1a1a;
            --bg: #050505;
            --card: #0f0f0f;
            --red-bright: #ff0000;
            --border: #222;
            --text-dim: #777;
            --white: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--bg); color: var(--white); overflow-x: hidden; }

        /* Navigation */
        nav {
            background: rgba(0,0,0,0.9);
            border-bottom: 1px solid var(--border);
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            z-index: 1000;
        }

        .logo { font-weight: 800; color: var(--red-bright); font-size: 1.5rem; letter-spacing: -1px; }

        /* Container & Tabs */
        .container { padding: 100px 5% 50px; }
        .tabs { display: flex; gap: 20px; margin-bottom: 30px; border-bottom: 1px solid var(--border); }
        .tab { padding: 10px 20px; cursor: pointer; color: var(--text-dim); transition: 0.3s; }
        .tab.active { color: var(--red-bright); border-bottom: 2px solid var(--red-bright); }

        /* Partnership Section */
        .partnership-panel {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
        }

        .form-group { margin-bottom: 20px; }
        label { display: block; color: var(--text-dim); font-size: 0.8rem; margin-bottom: 8px; text-transform: uppercase; }
        input {
            width: 100%;
            background: #151515;
            border: 1px solid var(--border);
            padding: 12px;
            color: white;
            border-radius: 6px;
        }

        .btn-sync {
            background: var(--red-bright);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Jobs Grid */
        .jobs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .job-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            transition: 0.3s;
        }

        .job-card:hover { border-color: var(--red-bright); transform: translateY(-5px); }
        
        .card-banner { height: 80px; background: #1a1a1a; position: relative; }
        .partner-badge {
            position: absolute;
            top: 10px; right: 10px;
            background: rgba(255,0,0,0.2);
            color: var(--red-bright);
            padding: 4px 8px;
            font-size: 0.6rem;
            border-radius: 4px;
            font-weight: bold;
        }

        .card-content { padding: 20px; }
        .job-title { font-size: 1.1rem; margin-bottom: 5px; }
        .job-meta { color: var(--text-dim); font-size: 0.85rem; margin-bottom: 15px; }

        /* Video Mode - Gobbo */
        .video-section { display: none; text-align: center; }
        #video-canvas { width: 100%; max-width: 800px; background: #000; border-radius: 15px; margin: 20px auto; position: relative; }
        .teleprompter {
            position: absolute;
            top: 20%; left: 0; width: 100%;
            height: 150px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            padding: 20px;
            overflow: hidden;
            font-size: 1.5rem;
            pointer-events: none;
        }
    </style>
</head>
<body>

<nav>
    <div class="logo">SWIFTHIRE PRO</div>
    <div style="display: flex; gap: 20px;">
        <button class="btn-sync" onclick="toggleView('candidati')">Area Candidati</button>
        <button class="btn-sync" onclick="toggleView('aziende')" style="background: transparent; border: 1px solid var(--border);">Area Aziende</button>
    </div>
</nav>

<div class="container">
    
    <section id="view-aziende">
        <div class="partnership-panel">
            <h2><i class="fas fa-handshake"></i> Gestione Partnership XML</h2>
            <p style="color: var(--text-dim); margin-bottom: 25px;">Configura i feed XML dei tuoi partner (Adecco, Randstad, ecc.) per popolare il database.</p>
            
            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px;">
                <div class="form-group">
                    <label>Nome Partner</label>
                    <input type="text" id="p-name" placeholder="es. Adecco">
                </div>
                <div class="form-group">
                    <label>Endpoint URL XML</label>
                    <input type="text" id="p-url" placeholder="https://api.partner.it/jobs.xml">
                </div>
            </div>
            <button class="btn-sync" onclick="syncFeed()">
                <i class="fas fa-sync-alt"></i> SINCRONIZZA FEED ORA
            </button>
        </div>
    </section>

    <section id="view-candidati">
        <div class="tabs">
            <div class="tab active">Tutti gli Annunci</div>
            <div class="tab">Video CV Pronti</div>
            <div class="tab">Aziende Partner</div>
        </div>

        <div class="jobs-grid" id="jobs-container">
            <div class="job-card">
                <div class="card-banner"><span class="partner-badge">SISTEMA</span></div>
                <div class="card-content">
                    <h3 class="job-title">Benvenuto su SwiftHire</h3>
                    <p class="job-meta">Inserisci un feed XML per iniziare.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="video-rec" class="video-section">
        <h1>Registrazione Video CV Professional</h1>
        <p>Leggi il testo che scorre e guarda la telecamera.</p>
        <div id="video-canvas">
            <div class="teleprompter" id="gobbo">
                <div id="scroll-text">Inizia a parlare della tua esperienza in ambito professionale... focalizzati sulle tue soft skills e sui risultati raggiunti negli ultimi anni.</div>
            </div>
            <video id="preview" autoplay muted style="width: 100%; border-radius: 12px;"></video>
        </div>
        <button class="btn-sync" onclick="stopRecording()" style="margin: auto;">TERMINA E SALVA NEL DATABASE</button>
    </section>

</div>

<script>
    // Database locale simulato
    let jobDb = [];

    function toggleView(view) {
        document.getElementById('view-aziende').style.display = view === 'aziende' ? 'block' : 'none';
        document.getElementById('view-candidati').style.display = view === 'candidati' ? 'block' : 'none';
        document.getElementById('video-rec').style.display = 'none';
    }

    // Logica di Sincronizzazione XML
    async function syncFeed() {
        const name = document.getElementById('p-name').value;
        const url = document.getElementById('p-url').value;

        if(!name || !url) {
            alert("Compila i dati della partnership");
            return;
        }

        // Simulazione caricamento XML
        const loadingBtn = document.querySelector('.btn-sync');
        loadingBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connessione XML...';

        setTimeout(() => {
            const newJob = {
                title: "Nuova Posizione Aperta",
                partner: name,
                location: "Remoto / Italia",
                id: Date.now()
            };
            
            jobDb.push(newJob);
            renderJobs();
            
            loadingBtn.innerHTML = '<i class="fas fa-sync-alt"></i> SINCRONIZZA FEED ORA';
            alert(`Sincronizzazione con ${name} riuscita!`);
            toggleView('candidati');
        }, 1500);
    }

    function renderJobs() {
        const container = document.getElementById('jobs-container');
        container.innerHTML = jobDb.map(job => `
            <div class="job-card" onclick="startVideoRec()">
                <div class="card-banner">
                    <span class="partner-badge">${job.partner.toUpperCase()}</span>
                </div>
                <div class="card-content">
                    <h3 class="job-title">${job.title}</h3>
                    <p class="job-meta"><i class="fas fa-map-marker-alt"></i> ${job.location}</p>
                    <button class="btn-sync" style="width: 100%; font-size: 0.7rem;">CANDIDATI CON VIDEO CV</button>
                </div>
            </div>
        `).join('');
    }

    // Logica Video CV con Gobbo
    function startVideoRec() {
        document.getElementById('view-candidati').style.display = 'none';
        document.getElementById('view-aziende').style.display = 'none';
        document.getElementById('video-rec').style.display = 'block';
        
        // Avvio Camera
        navigator.mediaDevices.getUserMedia({ video: true, audio: true })
            .then(stream => {
                document.getElementById('preview').srcObject = stream;
                startGobbo();
            });
    }

    function startGobbo() {
        const text = document.getElementById('scroll-text');
        let pos = 150;
        setInterval(() => {
            pos--;
            if(pos < -300) pos = 150;
            text.style.transform = `translateY(${pos}px)`;
        }, 30);
    }

    function stopRecording() {
        alert("Video salvato nel database proprietario di SwiftHire Pro!");
        location.reload();
    }

    // Init
    toggleView('candidati');
</script>

</body>
</html>